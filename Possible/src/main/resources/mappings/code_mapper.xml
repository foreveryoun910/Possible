<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yedam.possable.app.common.code.mapper.CodeMapper">

    <select id="getMasterCodeNameByCodeValue" resultType="string">
        SELECT name
        FROM code_master
        WHERE code = #{code}
    </select>

    <select id="getMasterCodeValueByName" resultType="string">
        SELECT code
        FROM code_master
        WHERE name = #{name}
    </select>

    <select id="getCodesByParentCode" resultType="CodeSubVO">
        SELECT *
        FROM code_sub
        WHERE master_code = #{parentCode}
    </select>
    <select id="getCodeByName" resultType="CodeSubVO">
        SELECT *
        FROM code_sub
        WHERE name = #{name}
    </select>
    <select id="getNameByCode" resultType="codeSubVO">
        SELECT *
        FROM code_sub
        WHERE code = #{code}
    </select>

    <select id="getBrandList" resultType="BrandCodeVO">
        SELECT *
        FROM brand_code
    </select>
    <select id="getBrand" resultType="brandCodeVO">
        SELECT *
        FROM brand_code
        WHERE code = #{code}
    </select>
    <select id="getModelList" resultType="ModelCodeVO">
        SELECT *
        FROM model_code
        <if test="code != null">
            WHERE brand_code = #{brandCode}
        </if>
    </select>
    <select id="getModel" resultType="ModelCodeVO">
        SELECT *
        FROM model_code
        WHERE code = #{code}
    </select>
    <select id="getTrimList" resultType="TrimCodeVO">
        SELECT *
        FROM trim_code
<!--        <if test="modelCode != null">-->
<!--            WHERE model_code = #{modelCode}-->
<!--        </if>-->
    </select>
    <select id="getTrim" resultType="TrimCodeVO">
        SELECT *
        FROM trim_code
        WHERE code = #{code}
    </select>

</mapper>
